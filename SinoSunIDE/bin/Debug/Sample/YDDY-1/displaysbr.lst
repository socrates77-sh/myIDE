L 1				DisplaySbr:
L 2					;BRCLR	FADOver,DisplaySbrR
L 3	[5]	1994	090007		BRCLR	pVIn,DisplaySbr1
L 4	[6]	1997	CD19DA		JSR	DispCellB
L 5	[5]	199A	0A800F		BRSET	FERR,DisplayErrSbr
L 6				DisplaySbrR:
L 7	[6]	199D	81		RTS
L 8					;-----------------------------------------------------------
L 9					;未插电源，工作在放电状态
L 10				DisplaySbr1:
L 11	[3]	199E	B68B		LDA	Stauts
L 12	[3]	19A0	27FB		BEQ	DisplaySbrR
L 13	[6]	19A2	CD19B4		JSR	DispCellA
L 14	[5]	19A5	0A8004		BRSET	FERR,DisplayErrSbr
L 15	[6]	19A8	CD19F9		JSR	DisplayStauts
L 16	[6]	19AB	81		RTS
L 17					;-----------------------------------------------------------
L 18				DisplayErrSbr:
L 19	[5]	19AC	0580EE		BRCLR	FFlash50,DisplaySbrR
L 20	[5]	19AF	1A03		BSET	pLED1
L 21	[5]	19B1	1603		BSET	pLED2
L 22	[6]	19B3	81		RTS
L 23					;-----------------------------------------------------------
L 24				DispCellA:
L 25	[5]	19B4	0D8014		BRCLR	F32V,DispCellA2
L 26	[3]	19B7	B694		LDA	FlashCnt
L 27	[3]	19B9	2706		BEQ	DispCellA1
L 28	[5]	19BB	01941B		BRCLR	0,FlashCnt,DispCellAR
L 29					;BRCLR	FFlash100,DispCellAR
L 30	[5]	19BE	1003		BSET	pLED3
L 31	[6]	19C0	81		RTS
L 32				DispCellA1:
L 33	[2]	19C1	A655		LDA	#$55
L 34	[4]	19C3	B7F1		STA	CellLow
L 35	[6]	19C5	CD1846		JSR	LEDAllOff
L 36	[5]	19C8	1503		BCLR	pHeat
L 37					;BCLR	pPwr
L 38	[6]	19CA	81		RTS
L 39				DispCellA2:
L 40	[5]	19CB	1003		BSET	pLED3
L 41	[5]	19CD	0F8007		BRCLR	F38V,DispCellA3
L 42	[3]	19D0	B694		LDA	FlashCnt
L 43	[3]	19D2	2705		BEQ	DispCellAR
L 44	[5]	19D4	019402		BRCLR	0,FlashCnt,DispCellAR
L 45					;BRCLR	FFlash100,DispCellAR
L 46				DispCellA3:
L 47	[5]	19D7	1400		BSET	pLED4
L 48				DispCellAR:
L 49	[6]	19D9	81		RTS
L 50					;-----------------------------------------------------------
L 51				DispCellB:
L 52					;-----------------------------------------------------------
L 53					;充电状态
L 54					;电池电压小于3.8V:pLED4不亮，pLED3闪烁
L 55					;-----------------------------------------------------------
L 56	[5]	19DA	028105		BRSET	FVin,DispCellB0
L 57	[5]	19DD	1003		BSET	pLED3
L 58	[5]	19DF	1400		BSET	pLED4
L 59	[6]	19E1	81		RTS
L 60				DispCellB0:
L 61	[3]	19E2	B68F		LDA	CellV
L 62	[3]	19E4	2608		BNE	DispCellB1
L 63	[5]	19E6	1500		BCLR	pLED4
L 64	[5]	19E8	05800D		BRCLR	FFlash50,DispCellBR
L 65	[5]	19EB	1003		BSET	pLED3
L 66	[6]	19ED	81		RTS
L 67				DispCellB1:
L 68					;-----------------------------------------------------------
L 69					;充电状态
L 70					;电池电压大于3.8V,小于4.1V:pLED3常亮，pLED4闪烁
L 71					;-----------------------------------------------------------
L 72	[5]	19EE	1003		BSET	pLED3
L 73	[3]	19F0	4A		DECA	
L 74	[3]	19F1	2603		BNE	DispCellB2
L 75	[5]	19F3	058002		BRCLR	FFlash50,DispCellBR
L 76				DispCellB2:
L 77					;-----------------------------------------------------------
L 78					;充电状态
L 79					;电池电压大于4.1V:pLED3、pLED4常亮
L 80					;-----------------------------------------------------------
L 81	[5]	19F6	1400		BSET	pLED4
L 82				DispCellBR:
L 83	[6]	19F8	81		RTS
L 84					;-----------------------------------------------------------
L 85				DisplayStauts:
L 86	[3]	19F9	B68B		LDA	Stauts
L 87	[3]	19FB	270B		BEQ	DisplayStautsR
L 88	[3]	19FD	4A		DECA	
L 89	[3]	19FE	2706		BEQ	DisplayStauts2
L 90	[3]	1A00	4A		DECA
L 91	[3]	1A01	2701		BEQ	DisplayStauts1
L 92	[6]	1A03	81		RTS
L 93				DisplayStauts1:
L 94	[5]	1A04	1A03		BSET	pLED1
L 95				DisplayStauts2:
L 96	[5]	1A06	1603		BSET	pLED2
L 97				DisplayStautsR:
L 98	[6]	1A08	81		RTS
L 99					
L 100					
L 101				
