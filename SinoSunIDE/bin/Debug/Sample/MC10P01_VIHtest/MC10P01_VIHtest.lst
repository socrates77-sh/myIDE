L 1				
L 2				
L 3				
L 4				        PA      EQU     $00
L 5				        PB      EQU     $01
L 6				        DDRA    EQU     $04
L 7				        DDRB    EQU     $05
L 8				        MCR     EQU     $0C
L 9				        DDRC    EQU     $0E
L 10				        PC      equ     $0d
L 11				        
L 12				        org $1e00
L 13				reset:        
L 14	[2]	1E00	9C	        rsp
L 15	[2]	1E01	9A	        cli
L 16				        
L 17	[3]	1E02	4F	         CLRA
L 18				
L 19	[2]	1E03	AEE0	         ldx #$e0
L 20				ram_wr:
L 21	[4]	1E05	F7	         sta ,x 
L 22	[3]	1E06	4C	         inca
L 23	[3]	1E07	5C	         incx
L 24	[3]	1E08	26FB	         bne ram_wr
L 25				         
L 26	[3]	1E0A	4F	         clra
L 27	[2]	1E0B	AEE0	         ldx #$e0
L 28				ram_rd:
L 29	[3]	1E0D	F1	         cmp ,x
L 30	[3]	1E0E	2614	         bne test_ram_error
L 31	[3]	1E10	4C	         inca
L 32				         
L 33	[3]	1E11	5C	         incx
L 34	[3]	1E12	26F9	         bne ram_rd 
L 35				        
L 36				        
L 37	[2]	1E14	A6FF	        lda     #$ff
L 38	[4]	1E16	B70E	        sta     DDRC
L 39	[5]	1E18	100C	        bset    0,MCR
L 40	[5]	1E1A	160C	        bset    3,MCR ;PB3 REGISTER UP ENABLE
L 41	[5]	1E1C	130C	        bclr    1,MCR
L 42	[2]	1E1E	A600	        lda     #$00
L 43	[4]	1E20	B704	        sta     DDRA
L 44	[4]	1E22	B705	        sta     DDRB
L 45				test_ram_error:
L 46	[2]	1E24	9D	         nop
L 47				        
L 48				loop:
L 49	[5]	1E25	120D	        bset    1,PC 
L 50	[5]	1E27	130D	        bclr    1,PC
L 51	[5]	1E29	060104	        brset   3,PB,pc0_setH
L 52	[5]	1E2C	110D	        bclr    0,PC
L 53				        ;bset    0,PC
L 54	[3]	1E2E	20F5	        bra     loop
L 55				pc0_setH:
L 56	[5]	1E30	100D	        bset    0,PC
L 57	[3]	1E32	20F1	        bra loop
L 58				
L 59				
L 60				        org $1ffe
L 61		1FFE	1E00	        fdb     reset        
L 62				       
L 63				        
L 64				        
