gplink-0.8.0 (Dec  5 2012)
Listing File Generated: 2012-12-7  16:56:03
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           #include mc32p21a.inc
                                                   ;LIST
                                           ;MC30P01A.INC  Standard Header File, Version 1.00 by Sinomcu
                                                   ;NOLIST
                                           
                                           
                                           ;==========================================================================
                                           ;
                                           ;       Revision History
                                           ;
                                           ;==========================================================================
                                           
                                           ;Rev:   Date:    Reason:
                                           
                                           ;1.00   12/06/21 Initial Release
                                           
                                           ;==========================================================================
                                           ;
                                           ;       Verify Processor
                                           ;
                                           ;==========================================================================
                                           
                                                   IFNDEF __30P44
                                                      MESSG "Processor-header file mismatch.  Verify selected processor."
                                                   ENDIF
                                           
                                           ;==========================================================================
                                           ;
                                           ;       Register Definitions
                                           ;
                                           ;==========================================================================
                                           
                                           ;W                            EQU     H'0000'
                                           ;F                            EQU     H'0001'
                                           
                                           ;----- Register Files------------------------------------------------------
                                           cblock	0x180
                                           INDF0			
                                           INDF1			
                                           INDF2			
                                           HIBYTE			
                                           FSR0			
                                           FSR1			
                                           PCL			
                                           PFALG			
                                           ;----0x188
                                           MCR			
                                           INDF3			
                                           INTE0			
                                           INTF0			
                                           INVALID_ADDR0		
                                           INVALID_ADDR1		
                                           INVALID_ADDR2		
                                           INVALID_ADDR3		
                                           ;----0x190
                                           P0			
                                           DDR0                    
                                           PUP0           
                                           ANSEL
                                           P1                      
                                           DDR1                    
                                           PUP1                    
                                           KBIM           
                                           ;-----0x198                        
                                           INVALID_ADDR5                      
                                           INVALID_ADDR6                    
                                           INVALID_ADDR7           
                                           INVALID_ADDR8           
                                           INVALID_ADDR9           
                                           INVALID_ADDRA           
                                           INVALID_ADDRB           
                                           INVALID_ADDRC           
                                           ;-----0x1a0
                                           T0CR			
                                           T0CNT                   
                                           T0LOAD                  
                                           T0DATA                  
                                           T1CR                    
                                           T1CNT                   
                                           T1LOAD                  
                                           T1DATA                  
                                           ;-----0x1a8                        
                                           UCR                     
                                           UBR                     
                                           UFR                     
                                           UTR                     
                                           URR                     
                                           LVDCR                   
                                           OSCM                    
                                           POWCR                   
                                           ;-----0x1b0
                                           ADCR0			
                                           ADCR1                   
                                           ADCR2                   
                                           ADCR3                   
                                           ADRH                    
                                           ADRM                    
                                           ADRL                    
                                           INVALID_ADDRD           
                                           ;----0x1b8                        
                                           LCDCR0                  
                                           LCDCR1                  
                                           LCDIOS                  
                                           INVALID_ADDRE           
                                           INVALID_ADDRF           
                                           INVALID_ADDR10          
                                           INVALID_ADDR11          
                                           INVALID_ADDR12          
                                           ;----0x1c0
                                           LCDDS0			
                                           LCDDS1                  
                                           LCDDS2                  
                                           LCDDS3                  
                                           LCDDS4                  
                                           LCDDS5                  
                                           LCDDS6                  
                                           LCDDS7                  
                                           ;----0x1c8                        
                                           LCDDS8                  
                                           LCDDS9                  
                                           LCDDSa                  
                                           LCDDSb                  
                                           LCDDSc                  
                                           LCDDSd                  
                                           LCDDSe                  
                                           LCDDSf                  
                                           endc
                                           OSCCAL		equ	0x1f3
                                           
                                           #define		STATUS		PFALG
                                           #define		INDF		INDF0
                                           #define		FSR		FSR0
                                           #define		P0HCON		PUP0
                                           #define		P1HCON		PUP1
                                           #define		INTECON		INTE0
                                           #define		INTEFLAG	INTF0	
                                           #define		LCDDS10		LCDDSa
                                           #define		LCDDS11		LCDDSb
                                           #define		LCDDS12		LCDDSc
                                           #define		LCDDS13		LCDDSc
                                           #define		LCDDS14		LCDDSe
                                           #define		LCDDS15		LCDDSf
                                           
                                           ;----- STATUS Bits --------------------------
                                           #define	Z	STATUS,2
                                           #define	DC	STATUS,1
                                           #define	C	STATUS,0
                                           
                                           ;----- MCR Bits --------------------------
                                           #define	GIE	MCR,7
                                           
                                           ;-----  P2HCON Bits -----------------------
                                           #define	P20PH	P2HCON,0
                                           #define	P21PH	P2HCON,1
                                           #define	P22PH	P2HCON,2
                                           #define	P23PH	P2HCON,3
                                           #define	P24PH	P2HCON,4
                                           #define	P25PH	P2HCON,5
                                           #define	P26PH	P2HCON,6
                                           #define	P27PH	P2HCON,7
                                           ;----- INTECON Bits --------------------------
                                           #define	INTE	INTECON
                                           #define	ADIE	INTECON,6
                                           #define	KBIE	INTECON,4
                                           #define	INT1IE	INTECON,3
                                           #define	INT0IE	INTECON,2
                                           #define	T1IE	INTECON,1
                                           #define	T0IE	INTECON,0
                                           
                                           ;----- INTEFLAG Bits --------------------------
                                           #define	INTF	INTEFLAG
                                           #define	ADIF	INTF,6
                                           #define	KBIF	INTF,4
                                           #define	INT1IF	INTF,3
                                           #define	INT0IF	INTF,2
                                           #define	T1IF	INTF,1
                                           #define	T0IF	INTF,0
                                           ;----- UCR Bits--------------------------
                                           #define	OPEN	UCR,4
                                           #define	EPEN	UCR,3
                                           #define	UARTEN	UCR,2
                                           ;----- UFR ----------------------
                                           #define FREF	UFR,7
                                           #define	PAEF	UFR,6
                                           #define	OVEF	UFR,5
                                           #define	TSEF	UFR,4
                                           #define	RDAF	UFR,1
                                           #define	TREF	UFR,0
                                           ;---- ADCR0 Bits -----------------
                                           #define	   ADCKS_16	0<<1	;Fcpu/16
                                           #define	   ADCKS_8 	1<<1	;Fcpu/8
                                           #define	   ADCKS_4 	2<<1	;Fcpu/4
                                           #define	   ADCKS_2 	2<<1	;Fcpu/2
                                           #define	   ADCHS_0	0<<4	;AN0
                                           #define	   ADCHS_1	1<<4	;AN1
                                           #define	   ADCHS_2	2<<4	;AN2
                                           #define	   ADCHS_3	3<<4	;AN3
                                           #define	   ADCHS_4	4<<4	;AN4
                                           #define	   ADCHS_5	5<<4	;AN5
                                           #define	   ADCHS_6	6<<4	;AN6
                                           #define ADEN	ADCR0,0
                                           #define	ADEOC	ADCR0,3
                                           ;---- ADCR1 Bits -----------------
                                           #define	   ADV_ADD	3	;VDD
                                           #define	   ADV_4V	2	;4V
                                           #define	   ADV_3V	1	;3V
                                           #define	   ADV_2V	0	;2V
                                           #define	   ADV_EX	4	;外部参考电压
                                           ;----- LCDCR0 Bits --------------------------
                                           #define	LCDEN	LCDCR0,7
                                           #define	VLCDS	LCDCR0,3
                                           ;----- T0CR  Bits ----------------
                                           #define	TC0EN	T0CR,7
                                           #define	PWM0OUT	T0CR,6
                                           #define	BUZ0OUT	T0CR,5
                                           
                                           ;----- T1CR  Bits ----------------
                                           #define	TC1EN	T1CR,7
                                           #define	PWM1OUT	T1CR,6
                                           #define	BUZ1OUT	T1CR,5
                                           
                                           ;----- OSCM  Bits ----------------
                                           #define	STBL	OSCM,5
                                           #define	STBH	OSCM,4
                                           #define	CLKS	OSCM,2
                                           #define	LFEN	OSCM,1
                                           #define	HFEN	OSCM,0
                                           
                                           ;-----  POWCR Bits -------
                                           #define LDOEN	POWCR,7
                                           #define	ENB	POWCR,6
                                           ;-----  LVDCR Bits -------
                                           #define LVD	PLVDCR,7
                                           #define	LVDS	PLVDCR,6
                                           ;***********DDR1 DDR2 **********
                                           #define	DDR10	DDR1,0
                                           #define	DDR11	DDR1,1
                                           #define	DDR12	DDR1,2
                                           #define	DDR13	DDR1,3
                                           
                                           #define	DDR20	DDR2,0
                                           #define	DDR21	DDR2,1
                                           #define	DDR22	DDR2,2
                                           #define	DDR23	DDR2,3
                                           #define	DDR24	DDR2,4
                                           #define	DDR25	DDR2,5
                                           #define	DDR26	DDR2,6
                                           #define	DDR27	DDR2,7
                                           ;******************************
                                           
                                           
                                           ;#define	inca	addai 1
                                           #define	 coma	xorai	0xff
                                           
                                           ;*************ram****************
                                           cblock    0x0
                                           r0
                                           r1
                                           r2
                                           r3
                                           r4
                                           r5
                                           r6
                                           r7
                                           r8
                                           acc_temp
                                           status_temp
                                           work_flag1
                                           work_flag2
                                           error_flag
                                           
                                           time_125us
                                           time_1ms
                                           time_10ms
                                           time_100ms
                                           time_1s
                                           time_1min
                                           time_1hour
                                           
                                           work_time
                                           funtion_valu
                                           
                                           dis_buffer0
                                           dis_buffer1
                                           dis_buffer2
                                           dis_buffer3
                                           tm_data0
                                           tm_data1
                                           tm_data2
                                           tm_data3
                                           tm_data4
                                           tm_data5
                                           tm_data6
                                           tm_data7
                                           key_data_buffer0
                                           key_data_buffer1
                                           key_data_buffer2
                                           key_data_buffer3
                                           key_data_buffer4
                                           test_io
                                           endc
                                           
                                           ;***********************
                                           #define R0 r0
                                           
                                           #define    RAM_COUNT    127    ;48个RAM
                                           #define    FIR_RAM_ADDR    0x01    ;RAM首地址
                                           ;#undefine  INDF
                                           ;#define    INDF		INDF3
                                           #define    MAX_DIS_DATA    18
                                           
                                           #define    RAM_E    0x00        ;RAM错误报E0
                                           
                                           #define	   TF_FCPU	(0<<3)	;使用CPU频率
                                           #define	   TF_FHOSC	(1<<3)	;使用内部16M
                                           #define	   TF_FLOSC	(2<<3)	;使用内部28K
                                           #define	   TF_INT	(3<<3)	;使用INT0输入
                                           #define	   TR_1		0	;1分频
                                           #define	   TR_2		1	;2分频
                                           #define	   TR_4		2	;4分频
                                           #define	   TR_8		3	;8分频
                                           #define	   TR_16	4	;16分频
                                           #define	   TR_32	5	;32分频
                                           #define	   TR_64	6	;64分频
                                           #define	   TR_128	7	;128分频
                                           
                                           
                                           #define    IO_TM1628_STB    P0,4
                                           #define    IO_TM1628_CLK    P1,4
                                           #define    IO_TM1628_DATA    P1,5
                                           #define    IO_TM1628_DDR    DDR1,5
                                           ;***************end ram*************
                                           #define    dis_buffer4    tm_data4
                                           #define    dis_buffer5    tm_data5
                                           #define    dis_buffer6    tm_data6
                                           #define    dis_buffer7    tm_data7
                                           #define    disp0_point    tm_data0,4
                                           #define    disp1_point    tm_data1,4
                                           #define    disp2_point    tm_data2,4
                                           #define    disp3_point    tm_data3,4
                                           #define    key_data1    key_data_buffer0,0    ;k1
                                           #define    key_data2    key_data_buffer0,3    ;k2
                                           #define    key_data3    key_data_buffer3,0    ;k3
                                           
                                           #define flag_time_10ms         work_flag1,0
                                           #define flag_key1_effect    work_flag1,1
                                           #define flag_key2_effect    work_flag1,2
                                           #define flag_key3_effect    work_flag1,3
                                           #define flag_key1_effect_bak    work_flag1,4
                                           #define flag_key2_effect_bak    work_flag1,5
                                           #define flag_key3_effect_bak    work_flag1,6
                                           #define flag_test_timer0    work_flag1,7
                                           
                                           #define    flag_disp0_point    work_flag2,0
                                           #define    flag_disp1_point    work_flag2,1
                                           #define    flag_disp2_point    work_flag2,2
                                           #define    flag_disp3_point    work_flag2,3
                                               org     0x3ff        ;复位向量
0003ff   df88     bclr    0x188, 0x7           bclr    GIE    ;关中断
                                               org     0x00
                                           
                                           
000000   a038     goto    0x38                 goto    start
                                           
                                               ORG 0x08        ;其它中断向量
                                           interrupt_sub:
000008   5609     movra   0x9                  movra    acc_temp
000009   4587     swapar  0x187                swapar    STATUS
00000a   560a     movra   0xa                  movra    status_temp
                                           ;*******判断是哪个中断*****
                                           start_just_int:
00000b   f18a     jbclr   0x18a, 0             jbclr    T0IE
00000c   e18b     jbset   0x18b, 0             jbset    T0IF
00000d   a010     goto    0x10                 goto    just_t1
                                           ;**********timer0**********
00000e   d18b     bclr    0x18b, 0             bclr    T0IF
                                           
00000f   d595     bclr    0x195, 0x2           bclr	DDR1,2
                                           ;    incr    time_125us
                                           ;    jbset    time_125us,3
                                           ;    goto	end_time0_interrupt
                                           ;
                                           ;    clrr    time_125us
                                           ;    incr    time_1ms
                                           ;    movar    time_1ms
                                           ;    asubai    10        ;time_1ms-10
                                           ;    jbset    C
                                           ;    goto    end_time0_interrupt
                                           ;    clrr    time_1ms
                                           ;    bset    flag_time_10ms
                                           end_time0_interrupt:
                                           ;**********end_time0*******
                                           just_t1:
000010   f38a     jbclr   0x18a, 0x1           jbclr    T1IE
000011   e38b     jbset   0x18b, 0x1           jbset    T1IF
000012   a01f     goto    0x1f                 goto    just_int0
                                           ;*********timer1***********
000013   d38b     bclr    0x18b, 0x1           bclr    T1IF
000014   660e     incr    0xe                  incr    time_125us
000015   e60e     jbset   0xe, 0x3             jbset    time_125us,3
000016   a01f     goto    0x1f                 goto	end_time1_interrupt
                                           
000017   760e     clrr    0xe                  clrr    time_125us
000018   660f     incr    0xf                  incr    time_1ms
000019   580f     movar   0xf                  movar    time_1ms
00001a   350a     asubai  0xa                  asubai    10        ;time_1ms-10
00001b   e187     jbset   0x187, 0             jbset    C
00001c   a01f     goto    0x1f                 goto    end_time1_interrupt
00001d   760f     clrr    0xf                  clrr    time_1ms
00001e   c00b     bset    0xb, 0               bset    flag_time_10ms
                                              ; movra   P0
                                              ; movra   P1    
                                           ;    incr    test_io
                                           ;    movar   test_io
                                           ;    movra   P3
                                               ;comr   P3
                                           end_time1_interrupt:
                                           ;**********end_timer1******
                                           just_int0:
00001f   f58a     jbclr   0x18a, 0x2           jbclr    INT0IE
000020   e58b     jbset   0x18b, 0x2           jbset    INT0IF
000021   a024     goto    0x24                 goto     just_int1
                                           ;**********int0************
000022   d58b     bclr    0x18b, 0x2           bclr    INT0IF
000023   7394     comr    0x194                comr	P1
                                           ;*********end int0*********
                                           just_int1:
000024   f78a     jbclr   0x18a, 0x3           jbclr    INT1IE
000025   e78b     jbset   0x18b, 0x3           jbset    INT1IF
000026   a029     goto    0x29                 goto     just_adc
                                           ;**********int0************
000027   d78b     bclr    0x18b, 0x3           bclr    INT1IF
000028   7390     comr    0x190                comr	P0
                                           ;*********end int1*********
                                           just_adc:
000029   fd8a     jbclr   0x18a, 0x6            jbclr	ADIE
00002a   ed8b     jbset   0x18b, 0x6            jbset	ADIF
00002b   a02d     goto    0x2d                  goto	just_kbim
                                           ;***********adc ***********
00002c   dd8b     bclr    0x18b, 0x6            bclr	ADIF
                                           ;***********end adc********
                                           just_kbim:
00002d   f98a     jbclr   0x18a, 0x4           jbclr    KBIE
00002e   e98b     jbset   0x18b, 0x4           jbset    KBIF
00002f   a033     goto    0x33                 goto    end_just_int
                                           ;**********kbim************
000030   d98b     bclr    0x18b, 0x4           bclr    KBIF
000031   7390     comr    0x190                comr	P0
000032   6618     incr    0x18                 incr    dis_buffer1
                                           ;**********end_kbim********
                                           end_just_int:
                                           exit_interrupt:
000033   440a     swapar  0xa                  swapar    status_temp
000034   5787     movra   0x187                movra    STATUS
000035   4609     swapr   0x9                  swapr    acc_temp
000036   4409     swapar  0x9                  swapar    acc_temp
000037   000d     retie                        retie
                                           
                                           
                                           ;*******程序开始*************
                                           ;*********start***************
                                           
                                           start:
                                               ;movai    0x01;high test_table
000038   3c03     movai   0x3                  movai	    high test_table
000039   5785     movra   0x185                movra    FSR1
                                               ;movai    0x07;low  test_table
00003a   3c00     movai   0                    movai	      low	test_table
00003b   5784     movra   0x184                movra    FSR0
00003c   5989     movar   0x189                movar    INDF3
00003d   5982     movar   0x182                movar    INDF2
00003e   5981     movar   0x181                movar    INDF1
00003f   6784     incr    0x184                incr     FSR0
000040   5989     movar   0x189                movar    INDF3
000041   0000     nop                          nop
000042   0000     nop                          nop
                                           ;    bclr    WDTEN        ;关看门狗
                                             ;  bclr    EIS
                                           
000043   3c01     movai   0x1                  movai    low FIR_RAM_ADDR
000044   5784     movra   0x184                movra    FSR        ;首地址
000045   3c00     movai   0                    movai    high FIR_RAM_ADDR
000046   5785     movra   0x185                movra    FSR1
000047   3c7f     movai   0x7f                 movai    RAM_COUNT
000048   5600     movra   0                    movra    R0
                                           clr_ram_loop:
000049   3cff     movai   0xff                 movai    0xff
00004a   5780     movra   0x180                movra    INDF        ;把FF写到FSR所指的地址
00004b   0000     nop                          nop
00004c   5980     movar   0x180                movar    INDF        ;写完后读出来
00004d   3aff     isubai  0xff                 isubai    0xff
00004e   e587     jbset   0x187, 0x2           jbset    Z        ;读出来后如果是FF，相减后为0，Z为1
00004f   a058     goto    0x58                 goto    ram_error    ;先写FF
                                           
000050   6780     incr    0x180                incr    INDF
000051   5980     movar   0x180                movar    INDF        ;0xff+1后为0
000052   e587     jbset   0x187, 0x2           jbset    Z
000053   a058     goto    0x58                 goto    ram_error    ;若不为0则是出错
                                           
000054   6784     incr    0x184                incr    FSR        ;FSR指向下一个地址
000055   6a00     djzr    0                    djzr    R0        ;R0-1==0则跳过一行
000056   a049     goto    0x49                 goto    clr_ram_loop
000057   a05b     goto    0x5b                 goto    sys_init
                                           ram_error:
000058   5800     movar   0                    movar    RAM_E
000059   560d     movra   0xd                  movra    error_flag
00005a   a059     goto    0x59                 goto    $-1
                                           ;*****************************************
                                           sys_init:
00005b   3c13     movai   0x13                 movai    (TF_FLOSC+TR_8)    ;内部16M,16分频
                                               ;movai    (TF_FCPU+TR_8)
00005c   57a0     movra   0x1a0                movra    T0CR        ;写入T0CR 
00005d   3cf9     movai   0xf9                 movai    249	;125us中断
00005e   57a2     movra   0x1a2                movra    T0LOAD
00005f   57a1     movra   0x1a1                movra    T0CNT
000060   cfa0     bset    0x1a0, 0x7           bset     TC0EN		;启动T0
000061   c18a     bset    0x18a, 0             bset     T0IE    ;开定时中断
                                           
000062   3c17     movai   0x17                 movai    (TF_FLOSC+TR_128)    ;内部16M,16分频
000063   57a4     movra   0x1a4                movra    T1CR        ;写入T0CR 
000064   3cf9     movai   0xf9                 movai    249	;500us中断
000065   57a6     movra   0x1a6                movra    T1LOAD
000066   57a5     movra   0x1a5                movra    T1CNT
000067   cfa4     bset    0x1a4, 0x7           bset     TC1EN		;启动T1
000068   c38a     bset    0x18a, 0x1           bset     T1IE    ;开定时中断
                                           
000069   3cfe     movai   0xfe                 movai 	0xfe
00006a   57a7     movra   0x1a7                movra 	T1DATA
                                           
00006b   3cfc     movai   0xfc                 movai	0xfc
00006c   5791     movra   0x191                movra	DDR0
00006d   5795     movra   0x195                movra	DDR1
00006e   7794     clrr    0x194                clrr    	P1
                                               ;bset	BUZ0OUT
                                               ;bset	PWM0OUT
00006f   3c96     movai   0x96                 movai	150
000070   57a3     movra   0x1a3                movra	T0DATA
                                               ;bset	BUZ1OUT
                                               ;bset	PWM1OUT
000071   3cd2     movai   0xd2                 movai	210
000072   57a7     movra   0x1a7                movra	T1DATA
                                           
                                              ; bset	INT0IE
                                              ; bset	INT1IE
000073   d788     bclr    0x188, 0x3           bclr	MCR,3
000074   d388     bclr    0x188, 0x1           bclr	MCR,1
000075   d588     bclr    0x188, 0x2           bclr	MCR,2
000076   d188     bclr    0x188, 0             bclr	MCR,0
000077   c191     bset    0x191, 0             bset	DDR0,0
                                           
                                           ;***************************************
000078   000e     clrwdt                       clrwdt
                                            ;   bset    WDTEN
000079   cf88     bset    0x188, 0x7           bset    GIE    ;开全局中断
                                           ;************main loop***************
                                           main_loop:
00007a   000e     clrwdt                       clrwdt
00007b   df88     bclr    0x188, 0x7           bclr	GIE
                                           
00007c   8082     call    0x82                 call	scan_adc
00007d   a07a     goto    0x7a                 goto	main_loop
                                               ;goto $-2
                                               ;sleep
                                               ;bclr    T1MEN
                                               ;bset    BUZOUT
                                               ;bset    PWMOUT
                                           
00007e   8090     call    0x90                 call    time_deal
                                              ; goto    main_loop
                                               ;call    tm_1628_read_sub    ;读按键
                                               ;call    key_scan        ;整理读回来的按键数据
                                               ;call    key_deal        ;按键处理
                                               ;call    work_deal
00007f   80e5     call    0xe5                 call    display
000080   8127     call    0x127                call    tm_1628_write_sub    ;写显示数据
000081   a07a     goto    0x7a                 goto    main_loop
                                           ;-------adc------------
                                           scan_adc:
000082   7600     clrr    0                    clrr	R0
                                           adc_loop:
000083   3c03     movai   0x3                  movai	high	adc_hcs_table
000084   5785     movra   0x185                movra	FSR1
000085   3c03     movai   0x3                  movai	low	adc_hcs_table
000086   7c00     addar   0                    addar	R0
000087   5784     movra   0x184                movra	FSR0
000088   5789     movra   0x189                movra	INDF3
                                           
000089   3f00     addai   0                    addai	ADCKS_16	;16分频
00008a   57b0     movra   0x1b0                movra	ADCR0
                                               
00008b   c1b0     bset    0x1b0, 0             bset	ADEN		;启动AD转换
00008c   c7b0     bset    0x1b0, 0x3           bset	ADEOC
00008d   a08c     goto    0x8c                 goto	$-1
                                           
00008e   0000     nop                          nop
                                           end_scan_adc:
00008f   000c     return                   	return
                                           
                                           ;************time sub*************
                                           time_deal:
000090   e00b     jbset   0xb, 0               jbset    flag_time_10ms
000091   a0b6     goto    0xb6                 goto    end_time_deal
                                           
000092   d00b     bclr    0xb, 0               bclr    flag_time_10ms
000093   6610     incr    0x10                 incr    time_10ms
000094   5810     movar   0x10                 movar    time_10ms
000095   3a0a     isubai  0xa                  isubai    10
000096   e587     jbset   0x187, 0x2           jbset    Z
000097   a0b6     goto    0xb6                 goto    end_time_deal
                                           
000098   7610     clrr    0x10                 clrr    time_10ms
000099   6611     incr    0x11                 incr    time_100ms
00009a   5811     movar   0x11                 movar    time_100ms
00009b   3a0a     isubai  0xa                  isubai    10
00009c   e587     jbset   0x187, 0x2           jbset    Z
00009d   a0b6     goto    0xb6                 goto    end_time_deal
                                           
00009e   7611     clrr    0x11                 clrr    time_100ms
                                           
00009f   5a15     movr    0x15                 movr    work_time
0000a0   e587     jbset   0x187, 0x2           jbset    Z
0000a1   6e15     decr    0x15                 decr    work_time
                                           
0000a2   6612     incr    0x12                 incr    time_1s
                                               ;incr    T1DATA
0000a3   5812     movar   0x12                 movar    time_1s
0000a4   350a     asubai  0xa                  asubai    10
0000a5   e187     jbset   0x187, 0             jbset    C
0000a6   a0b6     goto    0xb6                 goto    end_time_deal
                                           
0000a7   7612     clrr    0x12                 clrr    time_1s
0000a8   5612     movra   0x12                 movra   time_1s
0000a9   6608     incr    0x8                  incr	r8
0000aa   d608     bclr    0x8, 0x3             bclr	r8,3
0000ab   59a0     movar   0x1a0                movar	T0CR
0000ac   3ef8     andai   0xf8                 andai	0xf8
0000ad   7c08     addar   0x8                  addar	r8
0000ae   57a0     movra   0x1a0                movra	T0CR
                                            
                                            ;   bclr    GIE
                                            ;   incr    T1CR
                                            ;   bclr    T1CR,5
                                            ;   bset    GIE
                                               ;movai   0x04
                                             ;  xorra    OSCM 
                                               ;bset    HFEN    
0000af   6613     incr    0x13                 incr    time_1min
0000b0   5813     movar   0x13                 movar    time_1min
0000b1   3a3c     isubai  0x3c                 isubai    60
0000b2   e587     jbset   0x187, 0x2           jbset    Z
0000b3   a0b6     goto    0xb6                 goto    end_time_deal
0000b4   7613     clrr    0x13                 clrr    time_1min
0000b5   6614     incr    0x14                 incr    time_1hour
                                           end_time_deal:
0000b6   000c     return                       return
                                           ;************key_scan*************
                                           key_scan:
                                           ;**********k1***********
                                           scan_key1
0000b7   e023     jbset   0x23, 0              jbset    key_data1
0000b8   a0be     goto    0xbe                 goto    clr_key1_bak
                                               
0000b9   f80b     jbclr   0xb, 0x4             jbclr    flag_key1_effect_bak
0000ba   a0bf     goto    0xbf                 goto    scan_key2
                                           
0000bb   c20b     bset    0xb, 0x1             bset    flag_key1_effect
0000bc   c80b     bset    0xb, 0x4             bset    flag_key1_effect_bak
0000bd   a0bf     goto    0xbf                 goto    scan_key2
                                           clr_key1_bak:
0000be   d80b     bclr    0xb, 0x4             bclr    flag_key1_effect_bak
                                           ;**********k2************
                                           scan_key2:
0000bf   e623     jbset   0x23, 0x3            jbset    key_data2
0000c0   a0c6     goto    0xc6                 goto    clr_key2_bak
                                               
0000c1   fa0b     jbclr   0xb, 0x5             jbclr    flag_key2_effect_bak
0000c2   a0c7     goto    0xc7                 goto    scan_key3
                                           
0000c3   c40b     bset    0xb, 0x2             bset    flag_key2_effect
0000c4   ca0b     bset    0xb, 0x5             bset    flag_key2_effect_bak
0000c5   a0c7     goto    0xc7                 goto    scan_key3
                                           clr_key2_bak:
0000c6   da0b     bclr    0xb, 0x5             bclr    flag_key2_effect_bak
                                           ;**********k3************
                                           scan_key3:
0000c7   e026     jbset   0x26, 0              jbset    key_data3
0000c8   a0ce     goto    0xce                 goto    clr_key3_bak
                                               
0000c9   fc0b     jbclr   0xb, 0x6             jbclr    flag_key3_effect_bak
0000ca   a0cf     goto    0xcf                 goto    end_key_scan
                                           
0000cb   c60b     bset    0xb, 0x3             bset    flag_key3_effect
0000cc   cc0b     bset    0xb, 0x6             bset    flag_key3_effect_bak
0000cd   a0cf     goto    0xcf                 goto    end_key_scan
                                           clr_key3_bak:
0000ce   dc0b     bclr    0xb, 0x6             bclr    flag_key3_effect_bak
                                           end_key_scan:
0000cf   000c     return                       return
                                           ;***********key_deal**************
                                           key_deal:
0000d0   e20b     jbset   0xb, 0x1             jbset    flag_key1_effect
0000d1   a0d7     goto    0xd7                 goto    deal_k2
0000d2   d20b     bclr    0xb, 0x1             bclr    flag_key1_effect
                                           
0000d3   6617     incr    0x17                 incr    dis_buffer0
0000d4   3c05     movai   0x5                  movai    5
0000d5   5615     movra   0x15                 movra    work_time
0000d6   6616     incr    0x16                 incr    funtion_valu
                                           
                                           deal_k2:
0000d7   e40b     jbset   0xb, 0x2             jbset    flag_key2_effect
0000d8   a0db     goto    0xdb                 goto    deal_k3
0000d9   d40b     bclr    0xb, 0x2             bclr    flag_key2_effect
                                           
0000da   6618     incr    0x18                 incr    dis_buffer1
                                           deal_k3:
0000db   e60b     jbset   0xb, 0x3             jbset    flag_key3_effect
0000dc   a0e4     goto    0xe4                 goto    end_key_deal
0000dd   d60b     bclr    0xb, 0x3             bclr    flag_key3_effect
                                           
                                               ;incr    dis_buffer2
0000de   ee0b     jbset   0xb, 0x7             jbset    flag_test_timer0
0000df   a0e4     goto    0xe4                 goto    end_key_deal
                                           
0000e0   df88     bclr    0x188, 0x7           bclr    GIE    ;disable interrupt
0000e1   67a0     incr    0x1a0                incr    T0CR
0000e2   d9a0     bclr    0x1a0, 0x4           bclr    T0CR,4
0000e3   cf88     bset    0x188, 0x7           bset    GIE
                                           
                                           end_key_deal:
0000e4   000c     return                       return
                                           
                                           ;********************************
                                           display:
                                           ;*************查表开始***************
0000e5   7603     clrr    0x3                  clrr    r3
0000e6   5812     movar   0x12                 movar    time_1s
0000e7   5604     movra   0x4                  movra    r4
                                           
0000e8   3c0a     movai   0xa                  movai    10        ;十进制
0000e9   5605     movra   0x5                  movra    r5
                                           
0000ea   8166     call    0x166                call    div_x
                                           
0000eb   5802     movar   0x2                  movar    r2        ;余数
0000ec   561a     movra   0x1a                 movra    dis_buffer3
0000ed   5800     movar   0                    movar    r0        ;商低位
0000ee   5619     movra   0x19                 movra    dis_buffer2
                                           
0000ef   7603     clrr    0x3                  clrr	r3
0000f0   5813     movar   0x13                 movar    time_1min
0000f1   5604     movra   0x4                  movra    r4
0000f2   3c0a     movai   0xa                  movai    10
0000f3   5605     movra   0x5                  movra    r5
0000f4   8166     call    0x166                call    div_x
                                           
0000f5   5802     movar   0x2                  movar    r2
0000f6   5618     movra   0x18                 movra    dis_buffer1
0000f7   5800     movar   0                    movar    r0
0000f8   5617     movra   0x17                 movra    dis_buffer0
                                           
0000f9   3cff     movai   0xff                 movai    0xff
0000fa   561f     movra   0x1f                 movra    dis_buffer4
                                           
                                           ;    movai	0
                                           ;    movra	dis_buffer0
                                           ;    inca	
                                           ;    movra	dis_buffer1
                                           ;    inca	
                                           ;    movra	dis_buffer2
                                           ;    inca
                                           ;    movra	dis_buffer3
0000fb   7600     clrr    0                    clrr    R0                ;计数4次
                                           load_table_loop:
0000fc   3c17     movai   0x17                 movai    dis_buffer0
0000fd   7c00     addar   0                    addar    R0
0000fe   5784     movra   0x184                movra    FSR                ;每次循环更新一次FSR指针
                                               
                                              ; movai   HIGH table_dis_code
                                              ; movra    PCLATH
                                           
0000ff   3c12     movai   0x12                 movai    MAX_DIS_DATA        
000100   0980     asubar  0x180                asubar   INDF
000101   e187     jbset   0x187, 0             jbset    C
000102   7780     clrr    0x180                clrr    INDF
                                           
000103   5980     movar   0x180                movar    INDF
000104   3f02     addai   0x2                  addai    0x02                
000105   83fe     call    0x3fe                call    table_dis_code
000106   5601     movra   0x1                  movra    r1                ;r1存放查表的临时值
000107   3c1b     movai   0x1b                 movai    dis_buffer0+4
000108   7c00     addar   0                    addar    R0
000109   5784     movra   0x184                movra    FSR
                                           
00010a   5801     movar   0x1                  movar    r1
00010b   5780     movra   0x180                movra    INDF                ;把查表值（r1）存储到tm_data中
                                           
00010c   6600     incr    0                    incr    R0
00010d   e400     jbset   0, 0x2               jbset    R0,2
00010e   a0fc     goto    0xfc                 goto    load_table_loop
                                           
                                           ;*************小数点的显示************
00010f   f00c     jbclr   0xc, 0               jbclr    flag_disp0_point
000110   c81b     bset    0x1b, 0x4            bset    disp0_point
000111   f20c     jbclr   0xc, 0x1             jbclr    flag_disp1_point
000112   c81c     bset    0x1c, 0x4            bset    disp1_point
000113   f40c     jbclr   0xc, 0x2             jbclr    flag_disp2_point
000114   c81d     bset    0x1d, 0x4            bset    disp2_point
000115   f60c     jbclr   0xc, 0x3             jbclr    flag_disp3_point
000116   c81e     bset    0x1e, 0x4            bset    disp3_point
                                           ;***************其它段的显示处理*********
                                           end_display
000117   000c     return                       return
                                           
                                           ;***************1628读按键数据************
                                           tm_1628_read_sub:
000118   3c23     movai   0x23                 movai    key_data_buffer0
000119   5784     movra   0x184                movra    FSR
                                           
00011a   3c05     movai   0x5                  movai    5    ;循环5次
00011b   5602     movra   0x2                  movra    r2
                                           
00011c   3c42     movai   0x42                 movai    0x42
00011d   5601     movra   0x1                  movra    r1
00011e   8144     call    0x144                call    tm_1628_write
                                           tm1628_read_key_loop:
00011f   8156     call    0x156                call    tm_1628_read
000120   cb95     bset    0x195, 0x5           bset    IO_TM1628_DDR
000121   5801     movar   0x1                  movar    r1
000122   5780     movra   0x180                movra    INDF
                                                
000123   6784     incr    0x184                incr    FSR
000124   6a02     djzr    0x2                  djzr    r2
000125   a11f     goto    0x11f                goto    tm1628_read_key_loop
                                           end_tm_1628_read:
000126   000c     return                       return
                                           ;***********1628 写显示数据***************
                                           tm_1628_write_sub:
                                           ;    movai    0x55
                                           ;    movra	tm_data0
                                           ;    movra	tm_data1
                                           ;    movra	tm_data2
                                           ;    movra	tm_data3
                                           ;    movra	tm_data4
                                           ;    movra	tm_data5
                                           ;    movra	tm_data6
                                           
000127   3c03     movai   0x3                  movai    0x03
000128   5601     movra   0x1                  movra    r1
000129   8144     call    0x144                call    tm_1628_write
00012a   c990     bset    0x190, 0x4           bset    IO_TM1628_STB
00012b   3c40     movai   0x40                 movai    0x40
00012c   5601     movra   0x1                  movra    r1
00012d   8144     call    0x144                call    tm_1628_write
00012e   c990     bset    0x190, 0x4           bset    IO_TM1628_STB
00012f   3cc0     movai   0xc0                 movai    0xc0
000130   5601     movra   0x1                  movra    r1
000131   8144     call    0x144                call    tm_1628_write
000132   3c1b     movai   0x1b                 movai    tm_data0            ;首地址
000133   5784     movra   0x184                movra    FSR
000134   7602     clrr    0x2                  clrr    r2                ;r2计算发送buffer的次数
000135   6602     incr    0x2                  incr    r2
                                           send_display_buffer:
000136   5980     movar   0x180                movar    INDF
000137   5601     movra   0x1                  movra    r1
000138   8144     call    0x144                call    tm_1628_write
000139   8144     call    0x144                call    tm_1628_write
00013a   6784     incr    0x184                incr    FSR
00013b   6602     incr    0x2                  incr    r2
00013c   e602     jbset   0x2, 0x3             jbset    r2,3                ;够八次就跳出
00013d   a136     goto    0x136                goto    send_display_buffer
                                           
00013e   c990     bset    0x190, 0x4           bset    IO_TM1628_STB
00013f   3c88     movai   0x88                 movai    0x88
000140   5601     movra   0x1                  movra    r1
000141   8144     call    0x144                call    tm_1628_write
000142   c990     bset    0x190, 0x4           bset    IO_TM1628_STB
                                           end_tm_1628_write:
000143   000c     return                       return
                                           ;*********************************
                                           ;***************1628***************
                                           ;*********占用r1,R0寄存器***********
                                           ;*********r1作为参数****************
                                           tm_1628_write:
000144   d990     bclr    0x190, 0x4           bclr    IO_TM1628_STB
000145   cb95     bset    0x195, 0x5           bset    IO_TM1628_DDR    ;data output
                                               ;bclr    IO_TM1628_DDR    
000146   7600     clrr    0                    clrr    R0        ;计数用
000147   c600     bset    0, 0x3               bset    R0,3        ;R0=8
                                           tm1628_send_data_loop:
000148   db94     bclr    0x194, 0x5           bclr    IO_TM1628_DATA
000149   d994     bclr    0x194, 0x4           bclr    IO_TM1628_CLK
                                           
00014a   f001     jbclr   0x1, 0               jbclr    r1,0        ;发送0位数据
00014b   cb94     bset    0x194, 0x5           bset    IO_TM1628_DATA
                                           tm1628_clk_rising:
00014c   4e01     rrr     0x1                  rrr    r1
00014d   0000     nop                          nop
00014e   0000     nop                          nop
00014f   0000     nop                          nop
000150   0000     nop                          nop
000151   0000     nop                          nop
000152   c994     bset    0x194, 0x4           bset    IO_TM1628_CLK
000153   6a00     djzr    0                    djzr    R0
000154   a148     goto    0x148                goto    tm1628_send_data_loop
000155   000c     return                       return
                                           
                                           tm_1628_read:
000156   d990     bclr    0x190, 0x4           bclr    IO_TM1628_STB
000157   db95     bclr    0x195, 0x5           bclr    IO_TM1628_DDR    ;data input
000158   7600     clrr    0                    clrr    R0        ;计数用
000159   c600     bset    0, 0x3               bset    R0,3        ;R0=8
                                           tm1628_receive_data_loop:
00015a   d994     bclr    0x194, 0x4           bclr    IO_TM1628_CLK
00015b   0000     nop                          nop
00015c   0000     nop                          nop
00015d   0000     nop                          nop
00015e   d187     bclr    0x187, 0             bclr    C
00015f   fb94     jbclr   0x194, 0x5           jbclr    IO_TM1628_DATA
000160   c187     bset    0x187, 0             bset    C
000161   4e01     rrr     0x1                  rrr    r1
000162   c994     bset    0x194, 0x4           bset    IO_TM1628_CLK
000163   6a00     djzr    0                    djzr    R0
000164   a15a     goto    0x15a                goto    tm1628_receive_data_loop
000165   000c     return                       return
                                           ;***************************************
                                           ;**********math**************
                                           ;*************商r1r0,余r2,计数r6,被除数r3,r4
                                           ;*************除数r5
                                           div_x:
000166   7600     clrr    0                    clrr    R0    ;商
000167   7601     clrr    0x1                  clrr    r1
000168   7602     clrr    0x2                  clrr    r2    ;余数
                                           
000169   5a05     movr    0x5                  movr    r5
00016a   f587     jbclr   0x187, 0x2           jbclr    Z
00016b   000c     return                       return        ;除数为0，退出
                                           
00016c   3c10     movai   0x10                 movai    16
00016d   5606     movra   0x6                  movra    r6    ;计数=被除数位
                                           
00016e   5a03     movr    0x3                  movr    r3
00016f   e587     jbset   0x187, 0x2           jbset    Z
000170   a174     goto    0x174                goto    div_loop
000171   5a04     movr    0x4                  movr    r4
000172   f587     jbclr   0x187, 0x2           jbclr    Z
000173   000c     return                       return        ;被数为0直接返回
                                           div_loop:
000174   d187     bclr    0x187, 0             bclr    C
000175   5204     rlr     0x4                  rlr    r4    ;低8位
000176   5203     rlr     0x3                  rlr    r3    ;高8位
000177   5202     rlr     0x2                  rlr    r2    ;余
000178   5207     rlr     0x7                  rlr    r7
                                           
000179   5805     movar   0x5                  movar    r5
00017a   4802     rsubar  0x2                  rsubar    r2
00017b   f187     jbclr   0x187, 0             jbclr    C
00017c   a181     goto    0x181                goto     updata_div
00017d   f007     jbclr   0x7, 0               jbclr    r7,0
00017e   a181     goto    0x181                goto    $+3
00017f   d187     bclr    0x187, 0             bclr    C
000180   a183     goto    0x183                goto    r0_shift
                                           updata_div:        ;更新余数
000181   5602     movra   0x2                  movra    r2
000182   c187     bset    0x187, 0             bset    C
                                           r0_shift:
000183   5200     rlr     0                    rlr    R0
000184   5201     rlr     0x1                  rlr    r1
000185   6a06     djzr    0x6                  djzr    r6
000186   a174     goto    0x174                goto    div_loop
000187   000c     return                       return    
                                           ;****************************************
                                           ;********io test************************
                                           io_out_h:
000188   000e     clrwdt                       clrwdt
000189   7795     clrr    0x195                clrr    DDR1
00018a   3cff     movai   0xff                 movai    0xff
00018b   5794     movra   0x194                movra    P1
00018c   a188     goto    0x188                goto    io_out_h
00018d   000c     return                       return
                                           ;*****************************************
                                           io_out_l:
00018e   000e     clrwdt                       clrwdt
00018f   7795     clrr    0x195                clrr    DDR1
000190   3c00     movai   0                    movai    0x00
000191   5794     movra   0x194                movra    P1
000192   a18e     goto    0x18e                goto    io_out_l
000193   000c     return                       return
                                           ;*****************************************
                                           io_in_p1_l:
000194   3cff     movai   0xff                 movai    0xff
000195   5795     movra   0x195                movra    DDR1
                                           
                                               ;swapar    P1
000196   5994     movar   0x194                movar    P1
000197   000e     clrwdt                       clrwdt
000198   a195     goto    0x195                goto    $-3
000199   000c     return                       return
                                           ;*****************************************
                                           io_in_p1_h:
00019a   3cff     movai   0xff                 movai    0xff
00019b   5795     movra   0x195                movra    DDR1
                                              ; clrr    PHCON    ;上拉输入
                                               ;clrr    PDCON    ;下拉
                                           
00019c   4594     swapar  0x194                swapar    P1
                                             ;  movra    P0    ;P14--P17的状态从P0输出
00019d   000e     clrwdt                       clrwdt
00019e   a19b     goto    0x19b                goto    $-3
00019f   000c     return                       return
                                           ;******************************************
                                           io_in_p0:
0001a0   7795     clrr    0x195                clrr    DDR1    ;P1口输出
0001a1   3cff     movai   0xff                 movai    0xff
                                           ;    movra    DDR0
                                           ;    clrr    PDCON    ;下拉    ;P0没有上拉
                                           
0001a2   5794     movra   0x194                movra    P1    ;P00-P03的状态从P1口输出
0001a3   000e     clrwdt                       clrwdt
0001a4   a1a1     goto    0x1a1                goto    $-3
0001a5   000c     return                       return
                                           ;*********************************
                                           ;********键盘中断和sleep共用一个子程序*****
                                           ;****************************************
                                           key_bim:
0001a6   df88     bclr    0x188, 0x7           bclr    GIE
                                           ;    bclr    WDTEN
                                           ;    clrr     DDR0
0001a7   3cff     movai   0xff                 movai    0xff
0001a8   5795     movra   0x195                movra    DDR1    ;P1作为输入
                                           ;    movra    KBIM    ;开启键盘中断位
                                           ;    clrr    PHCON    ;使能上拉
                                           
                                           ;    bset    KBIE    ;使能键盘中断
                                           ;    sleep
                                           ;    bclr    KBIE
                                            ;   clrr    DDR1
0001a9   000c     return                       return
                                           
                                           ;**************************************
                                           ;*****int0 cfg************************
                                           ;*****下降沿触发**********************
                                           int0_cfg_l:
0001aa   c195     bset    0x195, 0             bset    DDR1,0    ;P10输入
                                           ;    bclr    PHCON,0    ;开P10上拉
                                           ;    bset    EIS
0001ab   c58a     bset    0x18a, 0x2           bset    INT0IE    ;开中断
                                           ;    bclr    WDTEN
                                           ;    sleep
0001ac   000c     return                       return;
                                           ;**************************************
                                           int0_cfg_h:
0001ad   c195     bset    0x195, 0             bset    DDR1,0    ;P10输入
                                           ;    bclr    PHCON,0    ;开P10上拉
                                           ;    bset    EIS
0001ae   c58a     bset    0x18a, 0x2           bset    INT0IE    ;开中断
                                           ;    bclr    WDTEN
                                           ;    sleep
0001af   000c     return                       return;
                                           
                                           ;*************************************
                                           ;***********output high od*************
                                           ;********开漏输出高*******************
                                           io_out_h_od:
0001b0   7795     clrr    0x195                clrr    DDR1
0001b1   3cff     movai   0xff                 movai    0xff
0001b2   5794     movra   0x194                movra    P1
0001b3   000e     clrwdt                       clrwdt
0001b4   a1b0     goto    0x1b0                goto    io_out_h_od
0001b5   000c     return                       return
                                           ;*************************************
                                           ;***********output low od*************
                                           ;********开漏输出低*******************
                                           io_out_l_od:
0001b6   7795     clrr    0x195                clrr    DDR1
0001b7   3c00     movai   0                    movai    0x00
0001b8   5794     movra   0x194                movra    P1
0001b9   3cff     movai   0xff                 movai    0xff
0001ba   000e     clrwdt                       clrwdt
0001bb   a1b6     goto    0x1b6                goto    io_out_l_od
0001bc   000c     return                       return
                                           
                                           ;*************************************
                                           ;***********上拉输入******************
                                           io_in_pn_pull:
0001bd   3cff     movai   0xff                 movai    0xff
0001be   5795     movra   0x195                movra    DDR1
                                               ;clrr    PHCON    ;上拉输入
0001bf   000e     clrwdt                       clrwdt
0001c0   a1bd     goto    0x1bd                goto    io_in_pn_pull
0001c1   000c     return                       return
                                           ;*************************************
                                           ;***********下拉输入******************
                                           io_in_pn_down:
0001c2   3cff     movai   0xff                 movai    0xff
0001c3   5795     movra   0x195                movra    DDR1
0001c4   000e     clrwdt                       clrwdt
0001c5   a1c2     goto    0x1c2                goto    io_in_pn_down
0001c6   000c     return                       return
                                               org 0x300
                                           test_table:
000300   8877     call    0x877                dw  0x8877
000301   9802     call    0x1802               dw  0x9802
000302   0980     asubar  0x180                dw  0x0980
                                           adc_hcs_table:
000303   0000     nop                       	dw	ADCHS_0
000304   0010     djza                      	dw	ADCHS_1
000305   0020     dw      0x20              	dw	ADCHS_2
000306   0030     dw      0x30              	dw	ADCHS_3
000307   0040     dw      0x40              	dw	ADCHS_4
000308   0050     dw      0x50              	dw	ADCHS_5
000309   0060     dw      0x60              	dw	ADCHS_6
                                           ;**********************************
                                           ;********timer*********************
                                           timer0_test:
00030a   ce0b     bset    0xb, 0x7             bset    flag_test_timer0
00030b   7795     clrr    0x195                clrr    DDR1
00030c   000c     return                       return
                                           
                                           ;***********work sub**************
                                           work_deal:
00030d   5a15     movr    0x15                 movr    work_time
00030e   e587     jbset   0x187, 0x2           jbset    Z
00030f   a320     goto    0x320                goto    end_work_deal
                                           
000310   5816     movar   0x16                 movar    funtion_valu
000311   7f86     addra   0x186                addra    PCL
000312   a320     goto    0x320                goto    end_work_deal
000313   a188     goto    0x188                goto    io_out_h    ;1
000314   a18e     goto    0x18e                goto    io_out_l    ;2
000315   a194     goto    0x194                goto    io_in_p1_l    ;3
000316   a19a     goto    0x19a                goto    io_in_p1_h    ;4
000317   a1a0     goto    0x1a0                goto    io_in_p0    ;5
000318   a1a6     goto    0x1a6                goto    key_bim        ;6
000319   a1aa     goto    0x1aa                goto    int0_cfg_l    ;7
00031a   a1ad     goto    0x1ad                goto    int0_cfg_h    ;8
                                           
00031b   a1b0     goto    0x1b0                goto    io_out_h_od    ;9
00031c   a1b6     goto    0x1b6                goto    io_out_l_od    ;a
                                           
00031d   a1bd     goto    0x1bd                goto    io_in_pn_pull    ;b
00031e   a1c2     goto    0x1c2                goto    io_in_pn_down    ;c
                                           
00031f   a30a     goto    0x30a                goto    timer0_test    ;d
                                           end_work_deal:
000320   000c     return                       return    
                                           ;*******表格**********************
                                           table:
                                               org (0x3fe-MAX_DIS_DATA)
0003ec   3b40     retai   0x40                 retai    0x40
0003ed   3b00     retai   0                    retai    0x00
0003ee   3bc5     retai   0xc5                 retai    0xC5
0003ef   3bcd     retai   0xcd                 retai    0xCD
0003f0   3b6e     retai   0x6e                 retai    0x6E
0003f1   3b8d     retai   0x8d                 retai    0x8D
0003f2   3b6d     retai   0x6d                 retai    0x6D
0003f3   3be7     retai   0xe7                 retai    0xE7
0003f4   3beb     retai   0xeb                 retai    0xEB
0003f5   3bef     retai   0xef                        retai    0xEF
0003f6   3ba2     retai   0xa2                 retai    0xA2
0003f7   3bed     retai   0xed                 retai    0xED
0003f8   3be9     retai   0xe9                 retai    0xE9
0003f9   3b63     retai   0x63                 retai    0x63
0003fa   3bea     retai   0xea                 retai    0xEA
0003fb   3bce     retai   0xce                 retai    0xCE
0003fc   3b22     retai   0x22                 retai    0x22
0003fd   3baf     retai   0xaf                 retai    0xAF
                                               org    0x3fe
                                           table_dis_code:
0003fe   4b86     rsubra  0x186                rsubra    PCL
                                               end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX-------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXX-- ---------------- ---------------- ----------------
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XX-------------- ---------------- ---------------- ----------------
07C0 : ---------------- --------XXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX

All other memory blocks unused.

Program Memory Words Used:   501

